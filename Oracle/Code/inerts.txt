INSERT INTO customers(full_name, email, country)
VALUES ('Ali Hassan', 'ali@email.com', 'Malaysia');

INSERT INTO customers(full_name, email, country)
VALUES ('Siti Aminah', 'siti@email.com', 'Malaysia');

INSERT INTO customers(full_name, email, country)
VALUES ('John Carter', 'john@email.com', 'USA');

INSERT INTO accounts(customer_id, account_type, balance)
SELECT customer_id, 'SAVINGS', 25000
FROM customers
WHERE full_name = 'Ali Hassan';

INSERT INTO accounts(customer_id, account_type, balance)
SELECT customer_id, 'CURRENT', 8000
FROM customers
WHERE full_name = 'Siti Aminah';

INSERT INTO accounts(customer_id, account_type, balance)
SELECT customer_id, 'SAVINGS', 56000
FROM customers
WHERE full_name = 'John Carter';


INSERT INTO transactions(account_id, txn_date, amount, txn_type)
SELECT account_id, SYSDATE-3, -2000, 'PURCHASE'
FROM accounts
WHERE balance = 56000;

INSERT INTO transactions(account_id, txn_date, amount, txn_type)
SELECT account_id, SYSDATE-2, -500, 'TRANSFER'
FROM accounts
WHERE balance = 25000;

INSERT INTO transactions(account_id, txn_date, amount, txn_type)
SELECT account_id, SYSDATE-1, 1200, 'SALARY'
FROM accounts
WHERE balance = 25000;


INSERT INTO staff_users(username, role_name)
VALUES ('admin', 'DBA');

INSERT INTO staff_users(username, role_name)
VALUES ('support', 'STAFF');


CREATE INDEX idx_customers_name
ON customers(full_name);

CREATE INDEX idx_txn_account
ON transactions(account_id);