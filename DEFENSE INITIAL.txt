CREATE OR REPLACE PROCEDURE secure_search_customer (
    p_name IN VARCHAR2,
    p_rc   OUT SYS_REFCURSOR
) AS
BEGIN
    OPEN p_rc FOR
        'SELECT c.full_name, a.account_type, a.balance
         FROM customers c
         JOIN accounts a ON c.customer_id = a.customer_id
         WHERE c.full_name = :x'
    USING p_name;
END;
/
